(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const P={};function Wt(n){P.context=n}const qt=(n,e)=>n===e,Ht=Symbol("solid-track"),de={equals:qt};let gt=_t;const B=1,ue=2,pt={owned:null,cleanups:null,context:null,owner:null};var O=null;let U=null,E=null,L=null,F=null,Te=0;function oe(n,e){const t=E,i=O,s=n.length===0,o=s?pt:{owned:null,cleanups:null,context:null,owner:e||i},l=s?n:()=>n(()=>ee(()=>Ne(o)));O=o,E=null;try{return ne(l,!0)}finally{E=t,O=i}}function p(n,e){e=e?Object.assign({},de,e):de;const t={value:n,observers:null,observerSlots:null,comparator:e.equals||void 0},i=s=>(typeof s=="function"&&(s=s(t.value)),vt(t,s));return[mt.bind(t),i]}function k(n,e,t){const i=Ae(n,e,!1,B);te(i)}function G(n,e,t){gt=Vt;const i=Ae(n,e,!1,B);i.user=!0,F?F.push(i):te(i)}function J(n,e,t){t=t?Object.assign({},de,t):de;const i=Ae(n,e,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=t.equals||void 0,te(i),mt.bind(i)}function ee(n){let e,t=E;return E=null,e=n(),E=t,e}function jt(n){return O===null||(O.cleanups===null?O.cleanups=[n]:O.cleanups.push(n)),n}function mt(){const n=U;if(this.sources&&(this.state||n))if(this.state===B||n)te(this);else{const e=L;L=null,ne(()=>fe(this),!1),L=e}if(E){const e=this.observers?this.observers.length:0;E.sources?(E.sources.push(this),E.sourceSlots.push(e)):(E.sources=[this],E.sourceSlots=[e]),this.observers?(this.observers.push(E),this.observerSlots.push(E.sources.length-1)):(this.observers=[E],this.observerSlots=[E.sources.length-1])}return this.value}function vt(n,e,t){let i=n.value;return(!n.comparator||!n.comparator(i,e))&&(n.value=e,n.observers&&n.observers.length&&ne(()=>{for(let s=0;s<n.observers.length;s+=1){const o=n.observers[s],l=U&&U.running;l&&U.disposed.has(o),(l&&!o.tState||!l&&!o.state)&&(o.pure?L.push(o):F.push(o),o.observers&&$t(o)),l||(o.state=B)}if(L.length>1e6)throw L=[],new Error},!1)),e}function te(n){if(!n.fn)return;Ne(n);const e=O,t=E,i=Te;E=O=n,Bt(n,n.value,i),E=t,O=e}function Bt(n,e,t){let i;try{i=n.fn(e)}catch(s){n.pure&&(n.state=B),wt(s)}(!n.updatedAt||n.updatedAt<=t)&&(n.updatedAt!=null&&"observers"in n?vt(n,i):n.value=i,n.updatedAt=t)}function Ae(n,e,t,i=B,s){const o={fn:n,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:O,context:null,pure:t};return O===null||O!==pt&&(O.owned?O.owned.push(o):O.owned=[o]),o}function he(n){const e=U;if(n.state===0||e)return;if(n.state===ue||e)return fe(n);if(n.suspense&&ee(n.suspense.inFallback))return n.suspense.effects.push(n);const t=[n];for(;(n=n.owner)&&(!n.updatedAt||n.updatedAt<Te);)(n.state||e)&&t.push(n);for(let i=t.length-1;i>=0;i--)if(n=t[i],n.state===B||e)te(n);else if(n.state===ue||e){const s=L;L=null,ne(()=>fe(n,t[0]),!1),L=s}}function ne(n,e){if(L)return n();let t=!1;e||(L=[]),F?t=!0:F=[],Te++;try{const i=n();return Ut(t),i}catch(i){L||(F=null),wt(i)}}function Ut(n){if(L&&(_t(L),L=null),n)return;const e=F;F=null,e.length&&ne(()=>gt(e),!1)}function _t(n){for(let e=0;e<n.length;e++)he(n[e])}function Vt(n){let e,t=0;for(e=0;e<n.length;e++){const i=n[e];i.user?n[t++]=i:he(i)}for(P.context&&Wt(),e=0;e<t;e++)he(n[e])}function fe(n,e){const t=U;n.state=0;for(let i=0;i<n.sources.length;i+=1){const s=n.sources[i];s.sources&&(s.state===B||t?s!==e&&he(s):(s.state===ue||t)&&fe(s,e))}}function $t(n){const e=U;for(let t=0;t<n.observers.length;t+=1){const i=n.observers[t];(!i.state||e)&&(i.state=ue,i.pure?L.push(i):F.push(i),i.observers&&$t(i))}}function Ne(n){let e;if(n.sources)for(;n.sources.length;){const t=n.sources.pop(),i=n.sourceSlots.pop(),s=t.observers;if(s&&s.length){const o=s.pop(),l=t.observerSlots.pop();i<s.length&&(o.sourceSlots[l]=i,s[i]=o,t.observerSlots[i]=l)}}if(n.owned){for(e=0;e<n.owned.length;e++)Ne(n.owned[e]);n.owned=null}if(n.cleanups){for(e=0;e<n.cleanups.length;e++)n.cleanups[e]();n.cleanups=null}n.state=0,n.context=null}function Qt(n){return n instanceof Error||typeof n=="string"?n:new Error("Unknown error")}function wt(n){throw n=Qt(n),n}const Xt=Symbol("fallback");function Ve(n){for(let e=0;e<n.length;e++)n[e]()}function Yt(n,e,t={}){let i=[],s=[],o=[],l=0,r=e.length>1?[]:null;return jt(()=>Ve(o)),()=>{let d=n()||[],c,a;return d[Ht],ee(()=>{let u=d.length,g,y,_,$,w,C,b,v,R;if(u===0)l!==0&&(Ve(o),o=[],i=[],s=[],l=0,r&&(r=[])),t.fallback&&(i=[Xt],s[0]=oe(q=>(o[0]=q,t.fallback())),l=1);else if(l===0){for(s=new Array(u),a=0;a<u;a++)i[a]=d[a],s[a]=oe(f);l=u}else{for(_=new Array(u),$=new Array(u),r&&(w=new Array(u)),C=0,b=Math.min(l,u);C<b&&i[C]===d[C];C++);for(b=l-1,v=u-1;b>=C&&v>=C&&i[b]===d[v];b--,v--)_[v]=s[b],$[v]=o[b],r&&(w[v]=r[b]);for(g=new Map,y=new Array(v+1),a=v;a>=C;a--)R=d[a],c=g.get(R),y[a]=c===void 0?-1:c,g.set(R,a);for(c=C;c<=b;c++)R=i[c],a=g.get(R),a!==void 0&&a!==-1?(_[a]=s[c],$[a]=o[c],r&&(w[a]=r[c]),a=y[a],g.set(R,a)):o[c]();for(a=C;a<u;a++)a in _?(s[a]=_[a],o[a]=$[a],r&&(r[a]=w[a],r[a](a))):s[a]=oe(f);s=s.slice(0,l=u),i=d.slice(0)}return s});function f(u){if(o[a]=u,r){const[g,y]=p(a);return r[a]=y,e(d[a],g)}return e(d[a])}}}function S(n,e){return ee(()=>n(e||{}))}function zt(n){const e="fallback"in n&&{fallback:()=>n.fallback};return J(Yt(()=>n.each,n.children,e||void 0))}function N(n){let e=!1;const t=n.keyed,i=J(()=>n.when,void 0,{equals:(s,o)=>e?s===o:!s==!o});return J(()=>{const s=i();if(s){const o=n.children,l=typeof o=="function"&&o.length>0;return e=t||l,l?ee(()=>o(s)):o}return n.fallback})}function Kt(n,e,t){let i=t.length,s=e.length,o=i,l=0,r=0,d=e[s-1].nextSibling,c=null;for(;l<s||r<o;){if(e[l]===t[r]){l++,r++;continue}for(;e[s-1]===t[o-1];)s--,o--;if(s===l){const a=o<i?r?t[r-1].nextSibling:t[o-r]:d;for(;r<o;)n.insertBefore(t[r++],a)}else if(o===r)for(;l<s;)(!c||!c.has(e[l]))&&e[l].remove(),l++;else if(e[l]===t[o-1]&&t[r]===e[s-1]){const a=e[--s].nextSibling;n.insertBefore(t[r++],e[l++].nextSibling),n.insertBefore(t[--o],a),e[s]=t[o]}else{if(!c){c=new Map;let f=r;for(;f<o;)c.set(t[f],f++)}const a=c.get(e[l]);if(a!=null)if(r<a&&a<o){let f=l,u=1,g;for(;++f<s&&f<o&&!((g=c.get(e[f]))==null||g!==a+u);)u++;if(u>a-r){const y=e[l];for(;r<a;)n.insertBefore(t[r++],y)}else n.replaceChild(t[r++],e[l++])}else l++;else e[l++].remove()}}}const Qe="_$DX_DELEGATE";function Gt(n,e,t,i={}){let s;return oe(o=>{s=o,e===document?n():h(e,n(),e.firstChild?null:void 0,t)},i.owner),()=>{s(),e.textContent=""}}function x(n,e,t){const i=document.createElement("template");i.innerHTML=n;let s=i.content.firstChild;return t&&(s=s.firstChild),s}function W(n,e=window.document){const t=e[Qe]||(e[Qe]=new Set);for(let i=0,s=n.length;i<s;i++){const o=n[i];t.has(o)||(t.add(o),e.addEventListener(o,Jt))}}function I(n,e,t){t==null?n.removeAttribute(e):n.setAttribute(e,t)}function j(n,e){e==null?n.removeAttribute("class"):n.className=e}function h(n,e,t,i){if(t!==void 0&&!i&&(i=[]),typeof e!="function")return ge(n,e,i,t);k(s=>ge(n,e(),s,t),i)}function Jt(n){const e=`$$${n.type}`;let t=n.composedPath&&n.composedPath()[0]||n.target;for(n.target!==t&&Object.defineProperty(n,"target",{configurable:!0,value:t}),Object.defineProperty(n,"currentTarget",{configurable:!0,get(){return t||document}}),P.registry&&!P.done&&(P.done=!0,document.querySelectorAll("[id^=pl-]").forEach(i=>i.remove()));t!==null;){const i=t[e];if(i&&!t.disabled){const s=t[`${e}Data`];if(s!==void 0?i.call(t,s,n):i.call(t,n),n.cancelBubble)return}t=t.host&&t.host!==t&&t.host instanceof Node?t.host:t.parentNode}}function ge(n,e,t,i,s){for(P.context&&!t&&(t=[...n.childNodes]);typeof t=="function";)t=t();if(e===t)return t;const o=typeof e,l=i!==void 0;if(n=l&&t[0]&&t[0].parentNode||n,o==="string"||o==="number"){if(P.context)return t;if(o==="number"&&(e=e.toString()),l){let r=t[0];r&&r.nodeType===3?r.data=e:r=document.createTextNode(e),t=Q(n,t,i,r)}else t!==""&&typeof t=="string"?t=n.firstChild.data=e:t=n.textContent=e}else if(e==null||o==="boolean"){if(P.context)return t;t=Q(n,t,i)}else{if(o==="function")return k(()=>{let r=e();for(;typeof r=="function";)r=r();t=ge(n,r,t,i)}),()=>t;if(Array.isArray(e)){const r=[],d=t&&Array.isArray(t);if(ke(r,e,t,s))return k(()=>t=ge(n,r,t,i,!0)),()=>t;if(P.context){if(!r.length)return t;for(let c=0;c<r.length;c++)if(r[c].parentNode)return t=r}if(r.length===0){if(t=Q(n,t,i),l)return t}else d?t.length===0?Xe(n,r,i):Kt(n,t,r):(t&&Q(n),Xe(n,r));t=r}else if(e instanceof Node){if(P.context&&e.parentNode)return t=l?[e]:e;if(Array.isArray(t)){if(l)return t=Q(n,t,i,e);Q(n,t,null,e)}else t==null||t===""||!n.firstChild?n.appendChild(e):n.replaceChild(e,n.firstChild);t=e}}return t}function ke(n,e,t,i){let s=!1;for(let o=0,l=e.length;o<l;o++){let r=e[o],d=t&&t[o];if(r instanceof Node)n.push(r);else if(!(r==null||r===!0||r===!1))if(Array.isArray(r))s=ke(n,r,d)||s;else if(typeof r=="function")if(i){for(;typeof r=="function";)r=r();s=ke(n,Array.isArray(r)?r:[r],Array.isArray(d)?d:[d])||s}else n.push(r),s=!0;else{const c=String(r);d&&d.nodeType===3&&d.data===c?n.push(d):n.push(document.createTextNode(c))}}return s}function Xe(n,e,t=null){for(let i=0,s=e.length;i<s;i++)n.insertBefore(e[i],t)}function Q(n,e,t,i){if(t===void 0)return n.textContent="";const s=i||document.createTextNode("");if(e.length){let o=!1;for(let l=e.length-1;l>=0;l--){const r=e[l];if(s!==r){const d=r.parentNode===n;!o&&!l?d?n.replaceChild(s,r):n.insertBefore(s,t):d&&r.remove()}else o=!0}}else n.insertBefore(s,t);return[s]}const yt="/assets/logo.5abc8dcc.svg",Zt="_logo_13ybe_1",en="_spin_13ybe_1",re={logo:Zt,spin:en},tn="modulepreload",nn=function(n){return"/"+n},Ye={},sn=function(e,t,i){if(!t||t.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=nn(o),o in Ye)return;Ye[o]=!0;const l=o.endsWith(".css"),r=l?'[rel="stylesheet"]':"";if(!!i)for(let a=s.length-1;a>=0;a--){const f=s[a];if(f.href===o&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${r}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":tn,l||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),l)return new Promise((a,f)=>{c.addEventListener("load",a),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};class m{constructor(e,t,i,s,o){this._legacyCanvasSize=m.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),i&&typeof i=="object"?this._onDecode=t:(console.warn(i||s||o?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=t),t=typeof i=="object"?i:{},this._onDecodeError=t.onDecodeError||(typeof i=="function"?i:this._onDecodeError),this._calculateScanRegion=t.calculateScanRegion||(typeof s=="function"?s:this._calculateScanRegion),this._preferredCamera=t.preferredCamera||o||this._preferredCamera,this._legacyCanvasSize=typeof i=="number"?i:typeof s=="number"?s:this._legacyCanvasSize,this._maxScansPerSecond=t.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let l=!1;if(e.hidden&&(e.hidden=!1,l=!0),document.body.contains(e)||(document.body.appendChild(e),l=!0),i=e.parentElement,t.highlightScanRegion||t.highlightCodeOutline){if(s=!!t.overlay,this.$overlay=t.overlay||document.createElement("div"),o=this.$overlay.style,o.position="absolute",o.display="none",o.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!s&&t.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}i.insertBefore(this.$overlay,this.$video.nextSibling)}t.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let r=window.getComputedStyle(e);r.display==="none"&&(e.style.setProperty("display","block","important"),l=!0),r.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),l=!0),l&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=m.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await m.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let t=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput"),i;try{e&&(await t()).every(s=>!s.label)&&(i=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await t()).map((s,o)=>({id:s.deviceId,label:s.label||(o===0?"Default Camera":`Camera ${o+1}`)}))}finally{i&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),m._stopVideoStream(i))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),m._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),m._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:t}=await this._getCameraStream();!this._active||this._paused?m._stopVideoStream(e):(this._setVideoMirror(t),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let t=()=>{this.$video.srcObject instanceof MediaStream&&(m._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(t(),!0):(await new Promise(i=>setTimeout(i,300)),this._paused?(t(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,t,i,s,o=!1,l=!1){let r,d=!1;t&&("scanRegion"in t||"qrEngine"in t||"canvas"in t||"disallowCanvasResizing"in t||"alsoTryWithoutScanRegion"in t||"returnDetailedScanResult"in t)?(r=t.scanRegion,i=t.qrEngine,s=t.canvas,o=t.disallowCanvasResizing||!1,l=t.alsoTryWithoutScanRegion||!1,d=!0):console.warn(t||i||s||o||l?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),t=!!i;try{let c,a;[i,c]=await Promise.all([i||m.createQrEngine(),m._loadImage(e)]),[s,a]=m._drawToCanvas(c,r,s,o);let f;if(i instanceof Worker){let u=i;t||m._postWorkerMessageSync(u,"inversionMode","both"),f=await new Promise((g,y)=>{let _,$,w,C=-1;$=v=>{v.data.id===C&&(u.removeEventListener("message",$),u.removeEventListener("error",w),clearTimeout(_),v.data.data!==null?g({data:v.data.data,cornerPoints:m._convertPoints(v.data.cornerPoints,r)}):y(m.NO_QR_CODE_FOUND))},w=v=>{u.removeEventListener("message",$),u.removeEventListener("error",w),clearTimeout(_),y("Scanner error: "+(v?v.message||v:"Unknown Error"))},u.addEventListener("message",$),u.addEventListener("error",w),_=setTimeout(()=>w("timeout"),1e4);let b=a.getImageData(0,0,s.width,s.height);C=m._postWorkerMessageSync(u,"decode",b,[b.data.buffer])})}else f=await Promise.race([new Promise((u,g)=>window.setTimeout(()=>g("Scanner error: timeout"),1e4)),(async()=>{try{var[u]=await i.detect(s);if(!u)throw m.NO_QR_CODE_FOUND;return{data:u.rawValue,cornerPoints:m._convertPoints(u.cornerPoints,r)}}catch(g){if(u=g.message||g,/not implemented|service unavailable/.test(u))return m._disableBarcodeDetector=!0,m.scanImage(e,{scanRegion:r,canvas:s,disallowCanvasResizing:o,alsoTryWithoutScanRegion:l});throw`Scanner error: ${u}`}})()]);return d?f:f.data}catch(c){if(!r||!l)throw c;let a=await m.scanImage(e,{qrEngine:i,canvas:s,disallowCanvasResizing:o});return d?a:a.data}finally{t||m._postWorkerMessage(i,"close")}}setGrayscaleWeights(e,t,i,s=!0){m._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:i,useIntegerApproximation:s})}setInversionMode(e){m._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){return e&&console.warn("Specifying a worker path is not required and not supported anymore."),!m._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")?new BarcodeDetector({formats:["qr_code"]}):sn(()=>import("./qr-scanner-worker.min.56d417f3.js"),[]).then(t=>t.createWorker())}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let t=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,t=e.videoWidth,i=e.videoHeight,s=e.offsetWidth,o=e.offsetHeight,l=e.offsetLeft,r=e.offsetTop,d=window.getComputedStyle(e),c=d.objectFit,a=t/i,f=s/o;switch(c){case"none":var u=t,g=i;break;case"fill":u=s,g=o;break;default:(c==="cover"?a>f:a<f)?(g=o,u=g*a):(u=s,g=u/a),c==="scale-down"&&(u=Math.min(u,t),g=Math.min(g,i))}var[y,_]=d.objectPosition.split(" ").map((w,C)=>{const b=parseFloat(w);return w.endsWith("%")?(C?o-g:s-u)*b/100:b});d=this._scanRegion.width||t,f=this._scanRegion.height||i,c=this._scanRegion.x||0;var $=this._scanRegion.y||0;a=this.$overlay.style,a.width=`${d/t*u}px`,a.height=`${f/i*g}px`,a.top=`${r+_+$/i*g}px`,i=/scaleX\(-1\)/.test(e.style.transform),a.left=`${l+(i?s-y-u:y)+(i?t-c-d:c)/t*u}px`,a.transform=e.style.transform}})}static _convertPoints(e,t){if(!t)return e;let i=t.x||0,s=t.y||0,o=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1;for(let l of e)l.x=l.x*o+i,l.y=l.y*t+s;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,t=1e3/this._maxScansPerSecond;e<t&&await new Promise(s=>setTimeout(s,t-e)),this._lastScanTimestamp=Date.now();try{var i=await m.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(s){if(!this._active)return;this._onDecodeError(s)}!m._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=m.createQrEngine()),i?(this._onDecode?this._onDecode(i):this._legacyOnDecode&&this._legacyOnDecode(i.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",i.cornerPoints.map(({x:s,y:o})=>`${s},${o}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==m.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",t=[{width:{min:1024}},{width:{min:768}},{}],i=t.map(s=>Object.assign({},s,{[e]:{exact:this._preferredCamera}}));for(let s of[...i,...t])try{let o=await navigator.mediaDevices.getUserMedia({video:s,audio:!1}),l=this._getFacingMode(o)||(s.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:o,facingMode:l}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let t of e.getTracks())t.stop(),e.removeTrack(t)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t,i,s=!1){i=i||document.createElement("canvas");let o=t&&t.x?t.x:0,l=t&&t.y?t.y:0,r=t&&t.width?t.width:e.videoWidth||e.width,d=t&&t.height?t.height:e.videoHeight||e.height;return s||(s=t&&t.downScaledWidth?t.downScaledWidth:r,t=t&&t.downScaledHeight?t.downScaledHeight:d,i.width!==s&&(i.width=s),i.height!==t&&(i.height=t)),t=i.getContext("2d",{alpha:!1}),t.imageSmoothingEnabled=!1,t.drawImage(e,o,l,r,d,0,0,i.width,i.height),[i,t]}static async _loadImage(e){if(e instanceof Image)return await m._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let t=new Image;t.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await m._awaitImageLoad(t),t}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((t,i)=>{let s=o=>{e.removeEventListener("load",s),e.removeEventListener("error",s),o instanceof ErrorEvent?i("Image load error"):t()};e.addEventListener("load",s),e.addEventListener("error",s)})}static async _postWorkerMessage(e,t,i,s){return m._postWorkerMessageSync(await e,t,i,s)}static _postWorkerMessageSync(e,t,i,s){if(!(e instanceof Worker))return-1;let o=m._workerMessageId++;return e.postMessage({id:o,type:t,data:i},s),o}}m.DEFAULT_CANVAS_SIZE=400;m.NO_QR_CODE_FOUND="No QR code found";m._disableBarcodeDetector=!1;m._workerMessageId=0;const[Ee,be]=p(!1),[on,rn]=p({}),[V,Re]=p(""),[ye,bt]=p(""),[St,ln]=p("");p("");const[M,D]=p(""),[ns,ze]=p(""),[X,le]=p(0),[xt,an]=p(""),[cn,dn]=p(""),[un,hn]=p(""),[fn,gn]=p(""),[pe,pn]=p(""),[me,mn]=p(""),[Ct,kt]=p([]),[ae,Z]=p(""),[Ke,ve]=p(!1),[Ge,Et]=p(!1),[Je,Ze]=p(!1);p([]);const[vn,_n]=p(!1),$n=x("<button>toggle scanner</button>"),wn=x('<div class="invoiceform payform"><h3>lightning invoice</h3><p><label>amount:</label> <span class="sats"></span> sats<br><label>memo:</label> <!> <br></p><span class="error"></span><button>pay</button><button>cancel</button></div>'),yn=x('<div class="lnurlpform payform"><h3>lnurlp, payment link</h3><label for="amount">Amount:<div class="info"><label>min. amount: </label><label>max. amount: </label><label>info: </label></div></label><input placeholder="100" type="number" class="amount" name="amount"><label for="comment">Comment:<div class="info"><label>max. characters: </label></div></label><textarea placeholder="comment..." id="comment" name="comment"></textarea><br><label for="bookmark1"><input id="bookmark1" name="bookmark" type="checkbox"> bookmark lnurl</label><span class="error"></span><button>pay</button><button>cancel</button></div>'),bn=x('<div class="lnurlwform payform"><h3>lnurlw, withdraw link</h3><label for="amount">Amount: </label><label>min. amount: </label><label>max. amount: </label><input placeholder="100" type="number" class="amount" name="amount"><label for="bookmark2"><input id="bookmark2" name="bookmark" type="checkbox"> bookmark lnurl</label><span class="error"></span><button>withdraw</button><button>cancel</button></div>'),Sn=x('<section id="pay"><h3>pay invoice</h3><textarea placeholder="paste invoice (lnbc.) or LNURL here..." id="invoice" name="invoice" rows="6"></textarea></section>'),[De,xn]=p({}),[Pe,Cn]=p({}),[kn,et]=p(!1),[En,tt]=p(!1),[On,nt]=p(!1),[H,it]=p(0),[st,ot]=p(0),[rt,lt]=p(0),[Ln,at]=p(0),[Tn,An]=p(""),[Nn,Rn]=p(0),[Ot,Dn]=p(!1),Pn=n=>{D(""),ie.send({type:"pay",data:{bolt11:ae()}})},Mn=n=>{let e=Pe(),t=H()*1e3;t>=e.minSendable&&t<=e.maxSendable?(D(""),ie.send({type:"pay_lnurlp",data:{callback:e.callback,amount:t,comment:Tn()}})):D("ERROR: amount not in range")},In=n=>{let e=Pe(),t=H()*1e3;t>=e.minWithdrawable&&t<=e.maxWithdrawable?(D(""),ie.send({type:"pay_lnurlw",data:{callback:e.callback,amount:H(),k1:e.k1}})):D("ERROR: amount not in range")},Se=n=>{Z("")};let xe=null;const Fn=n=>{let e=!Ot();Dn(e),e?(xe=new m(document.getElementById("video"),t=>Z(t)),xe.start()):xe.stop()},Wn=n=>(De().amount_msat/1e3).toLocaleString(),qn=n=>De().description,Hn=n=>{let e,t;n.stopPropagation(),n.preventDefault(),e=n.clipboardData||window.clipboardData,t=e.getData("Text"),Z(t)};function jn(){return G(()=>{De()&&et(!0)}),G(()=>{let n=Pe();if(n){if(n.tag==="payRequest"){Rn(n.commentAllowed);let e=JSON.parse(n.metadata)[0][1];at(e),ot(n.minSendable/1e3),lt(n.maxSendable/1e3),tt(!0);let t=document.querySelector(".lnurlpform .amount");t&&t.focus()}if(n.tag==="withdrawRequest"){nt(!0),ot(n.minWithdrawable/1e3),lt(n.maxWithdrawable/1e3),at(n.defaultDescription);let e=document.querySelector(".lnurlwform .amount");e&&e.focus()}}}),G(()=>{ae()&&ie.send({type:"invoice",data:{bolt11:ae()}}),D(""),et(!1),tt(!1),nt(!1)}),(()=>{const n=Sn.cloneNode(!0),e=n.firstChild,t=e.nextSibling;return h(n,S(N,{get when(){return vn()},get children(){return[(()=>{const i=$n.cloneNode(!0);return i.$$click=Fn,i})()," ",J(()=>Ot()?"on":"off")]}}),t),t.addEventListener("paste",Hn),h(n,S(N,{get when(){return kn()},get children(){const i=wn.cloneNode(!0),s=i.firstChild,o=s.nextSibling,l=o.firstChild,r=l.nextSibling,d=r.nextSibling,c=d.nextSibling,a=c.nextSibling,f=a.nextSibling,u=f.nextSibling,g=u.nextSibling;g.nextSibling;const y=o.nextSibling,_=y.nextSibling,$=_.nextSibling;return h(d,Wn),h(o,qn,g),h(y,M),_.$$click=Pn,$.$$click=Se,i}}),null),h(n,S(N,{get when(){return En()},get children(){const i=yn.cloneNode(!0),s=i.firstChild,o=s.nextSibling,l=o.firstChild,r=l.nextSibling,d=r.firstChild;d.firstChild;const c=d.nextSibling;c.firstChild;const a=c.nextSibling;a.firstChild;const f=o.nextSibling,u=f.nextSibling,g=u.firstChild,y=g.nextSibling,_=y.firstChild;_.firstChild;const $=u.nextSibling,w=$.nextSibling,C=w.nextSibling,b=C.nextSibling,v=b.nextSibling,R=v.nextSibling;return h(d,st,null),h(c,rt,null),h(a,Ln,null),f.$$keyup=q=>it(parseInt(q.currentTarget.value)),h(_,Nn,null),$.$$keyup=q=>An(q.currentTarget.value),h(b,M),v.$$click=Mn,R.$$click=Se,i}}),null),h(n,S(N,{get when(){return On()},get children(){const i=bn.cloneNode(!0),s=i.firstChild,o=s.nextSibling,l=o.nextSibling;l.firstChild;const r=l.nextSibling;r.firstChild;const d=r.nextSibling,c=d.nextSibling,a=c.nextSibling,f=a.nextSibling,u=f.nextSibling;return h(l,st,null),h(r,rt,null),d.$$keyup=g=>it(parseInt(g.currentTarget.value)),h(a,M),f.$$click=In,u.$$click=Se,i}}),null),k(()=>n.className=M()?"error":""),k(()=>t.value=ae()),n})()}W(["click","keyup"]);const Me="https://lnbits.b1tco1n.org",Lt="api.b1tco1n.org",Bn=`https://${Lt}`,Un=`wss://${Lt}/ws`,Ie=`${Me}/api/v1/qrcode/`,Vn=x("<button>create</button>"),Qn=x('<p><img class="qrcode" alt="invoice qrcode svg"></p>'),Xn=x("<button>copy invoice</button>"),Yn=x("<button>cancel</button>"),zn=x('<div class="invoiceform payform"><h3>create invoice</h3><label for="amount">Amount:</label><input placeholder="100" type="number" class="amount" name="amount"><label for="comment">Comment: </label><textarea placeholder="description..." name="description"></textarea><span class="error"></span><button>create</button><button>cancel</button></div>'),Kn=x('<section id="create"><h3>create invoice</h3></section>'),[Gn,Jn]=p(0),[Zn,ei]=p(0),[ct,Fe]=p(!1),[ti,Tt]=p(!1),[_e,At]=p(""),ni=n=>{D(""),Fe(!1),ie.send({type:"create_invoice",data:{amount:Gn(),description:Zn()}})},ii=n=>{Fe(!0)},dt=n=>{At(""),Fe(!1),Tt(!1)},si=()=>_e()?Ie+_e():"#",oi=()=>qe(_e());function ri(){return G(()=>{let n=!!_e();Tt(n)}),(()=>{const n=Kn.cloneNode(!0);return n.firstChild,h(n,S(N,{get when(){return!ct()},get children(){const e=Vn.cloneNode(!0);return e.$$click=ii,e}}),null),h(n,S(N,{get when(){return ti()},get children(){return[(()=>{const e=Qn.cloneNode(!0),t=e.firstChild;return k(()=>I(t,"src",si())),e})(),(()=>{const e=Xn.cloneNode(!0);return e.$$click=oi,e})(),(()=>{const e=Yn.cloneNode(!0);return e.$$click=dt,e})()]}}),null),h(n,S(N,{get when(){return ct()},get children(){const e=zn.cloneNode(!0),t=e.firstChild,i=t.nextSibling,s=i.nextSibling,o=s.nextSibling,l=o.nextSibling,r=l.nextSibling,d=r.nextSibling,c=d.nextSibling;return s.$$keyup=a=>Jn(parseInt(a.currentTarget.value)),l.$$keyup=a=>ei(a.currentTarget.value),h(r,M),d.$$click=ni,c.$$click=dt,e}}),null),k(()=>n.className=M()?"error":""),n})()}W(["click","keyup"]);const We=(n,e,t=!0,i=null)=>{let s={credentials:"include"};if(i)if(s.method="POST",t)s.headers={"Content-Type":"application/json"},s.body=JSON.stringify(i);else{let o=new FormData;Object.keys(i).forEach(l=>{o.append(l,i[l])}),s.body=o}fetch(Bn+n,s).then(async o=>{if(o.status===401)throw new Error("unauthorized");if(!o.ok){let r={};try{r=await o.json()}catch{throw new Error("could not parse response json")}let d="";throw Array.isArray(r.detail)?d=r.detail.map(a=>a.loc[1]+": "+a.msg).join(`
`):d=r.detail,new Error(`${d}`)}return await o.json()}).then(e).catch(o=>{console.log(o),D(o.toString())})},ce=(n,e,t)=>{t||(t="/assets/favicon.ico"),"Notification"in window?Notification.permission==="granted"?new Notification(n,{body:e,icon:t}):Notification.permission!=="denied"&&Notification.requestPermission().then(i=>{i==="granted"&&new Notification(n,{body:e,icon:t})}):alert("This browser does not support desktop notification")},qe=n=>{"clipboard"in navigator&&navigator.clipboard.writeText(n).then(function(){},function(e){ce("Clipboard","Error copying to clipboard")})},A={user:"user",pay:"pay",invoice:"invoice",create_invoice:"create_invoice",payment_received:"payment_received",error:"error",lnurl:"lnurl",lnurl_success:"lnurl_success",ping:"ping",pong:"pong",hello:"hello"};class li{constructor(){this.ws=new WebSocket(Un),this.ws.onerror=this.onerror,this.ws.onopen=this.onopen,this.ws.onmessage=this.onmessage,this.ws.onclose=this.onclose}send(e){this.ws.send(JSON.stringify(e))}onerror(e){be(!1),ve(!0)}onclose(e){be(!1),ve(!0)}onopen(e){this.send(JSON.stringify({type:A.user}))}onmessage(e){let t=JSON.parse(e.data);if(console.log(t),t.type==A.user&&(be(!0),rn(t.data)),t.type==A.payment_received){let i=t.data.amount/1e3,s=X()+i;ce("payment received!",`${i} sats
payment_hash: `+t.data.payment_hash),le(s);let o=Ct();o.unshift(t.data),kt(o)}if(t.type==A.pay){let i="invoice paid";ze(i),le(X()-H()),ce(i,`${parseInt(H())} sats
payment_hash: `+t.data.payment_hash),Z("")}if(t.type==A.lnurl_success){let i=0;t.data.message=="withdrawn"?i=X()+parseInt(H()):i=X()-parseInt(H()),le(i),ze(t.data.message),ce(t.data.message,`${parseInt(H())} sats
payment_hash: `+t.data.payment_hash),Z("")}t.type==A.invoice&&xn(t.data),t.type==A.create_invoice&&At(t.data.invoice),t.type==A.error&&(D(t.message),console.log(t.type,t.message)),t.type==A.lnurl&&Cn(t.data),t&&t.type==A.ping&&this.send({type:A.pong}),t&&t.type==A.pong&&console.log("received pong!!!")}}const ai=x('<div id="login"><h2>Login</h2><form method="POST"><input type="text" name="username" placeholder="username..."><input type="password" name="password" placeholder="password..."><span class="error"></span><input type="submit" value="login">&nbsp;or&nbsp;<span class="btn">signup</span></form></div>'),ci=n=>{Et(!0),ve(!1)},di=n=>(n.preventDefault(),D(""),We("/login",e=>{window.location="/"},!1,{username:V(),password:ye()}),!1);function ui(){return(()=>{const n=ai.cloneNode(!0),e=n.firstChild,t=e.nextSibling,i=t.firstChild,s=i.nextSibling,o=s.nextSibling,l=o.nextSibling,r=l.nextSibling,d=r.nextSibling;return t.addEventListener("submit",di),i.addEventListener("change",c=>Re(c.currentTarget.value)),s.addEventListener("change",c=>bt(c.currentTarget.value)),h(o,M),d.$$click=ci,k(()=>t.className=M()?"error":""),k(()=>i.value=V()),k(()=>s.value=ye()),n})()}W(["click"]);const hi=x('<div id="signup"><h2>Sign up</h2><form name="signup" method="POST"><input type="text" name="username" placeholder="username..."><input type="password" name="password" placeholder="password..."><input type="password" name="password-repeat" placeholder="password repeat..."><span class="error"></span><input type="submit" value="signup">&nbsp;or&nbsp;<span class="btn">login</span></form></div>'),fi=n=>{Et(!1),ve(!0)},gi=n=>(n.preventDefault(),D(""),We("/signup",e=>{window.location="/"},!0,{username:V(),password:ye(),password_repeat:St()}),!1);function pi(){return(()=>{const n=hi.cloneNode(!0),e=n.firstChild,t=e.nextSibling,i=t.firstChild,s=i.nextSibling,o=s.nextSibling,l=o.nextSibling,r=l.nextSibling,d=r.nextSibling,c=d.nextSibling;return t.addEventListener("submit",gi),i.addEventListener("change",a=>Re(a.currentTarget.value)),s.addEventListener("change",a=>bt(a.currentTarget.value)),o.addEventListener("change",a=>ln(a.currentTarget.value)),h(l,M),c.$$click=fi,k(()=>t.className=M()?"error":""),k(()=>i.value=V()),k(()=>s.value=ye()),k(()=>o.value=St()),n})()}W(["click"]);const mi=x('<section id="settings"><button>lnbits</button><button>settings</button><div id="settings-content"><h2>user info</h2><b>usr: </b> <br><b>wallet_id: </b> <br><b>api_key: </b> <br><button>hide settings</button></div></section>'),vi=()=>window.open(Me+"/wallet?usr="+xt(),"_blank");function _i(){return(()=>{const n=mi.cloneNode(!0),e=n.firstChild,t=e.nextSibling,i=t.nextSibling,s=i.firstChild,o=s.nextSibling,l=o.nextSibling,r=l.nextSibling,d=r.nextSibling,c=d.nextSibling,a=c.nextSibling,f=a.nextSibling,u=f.nextSibling,g=u.nextSibling,y=g.nextSibling;return e.$$click=vi,t.$$click=_=>Ze(!0),h(i,xt,r),h(i,cn,a),h(i,un,g),y.$$click=_=>Ze(!1),k(_=>{const $=Je()===!0?"hidden":"",w=Je()===!1?"hidden":"";return $!==_._v$&&j(t,_._v$=$),w!==_._v$2&&j(i,_._v$2=w),_},{_v$:void 0,_v$2:void 0}),n})()}W(["click"]);const $i=x("<button>logout</button>"),wi=()=>(We("/logout",n=>{window.location="/"},!1),!1);function yi(){return(()=>{const n=$i.cloneNode(!0);return n.$$click=wi,n})()}W(["click"]);const bi=x('<section id="paylinks"><div id="paylink" class="paylink"><h3>receive</h3><p>with this link you can receive sats.</p><p><img class="qrcode" alt="lnurlp qr"></p><p></p><p><button>Copy lnurlp</button></p></div><div id="withdrawlink" class="paylink"><h3>withdraw</h3><p>with this link you can withdraw sats. DO NOT SHARE</p><p><img class="qrcode" alt="lnurlp qr"></p><p></p><p><button>Copy withdrawlink</button></p></div></section>'),Si=()=>pe()?Ie+pe():"#",xi=()=>qe(pe()),Ci=()=>me()?Ie+me():"#",ki=()=>qe(me());function Ei(){return(()=>{const n=bi.cloneNode(!0),e=n.firstChild,t=e.firstChild,i=t.nextSibling,s=i.nextSibling,o=s.firstChild,l=s.nextSibling,r=l.nextSibling,d=r.firstChild,c=e.nextSibling,a=c.firstChild,f=a.nextSibling,u=f.nextSibling,g=u.firstChild,y=u.nextSibling,_=y.nextSibling,$=_.firstChild;return h(l,pe),d.$$click=xi,h(y,me),$.$$click=ki,k(w=>{const C=Si(),b=Ci();return C!==w._v$&&I(o,"src",w._v$=C),b!==w._v$2&&I(g,"src",w._v$2=b),w},{_v$:void 0,_v$2:void 0}),n})()}W(["click"]);const Oi=x('<section id="tpos"><button>pos</button></section>'),Li=()=>window.open(Me+"/tpos/"+fn(),"_blank");function Ti(){return(()=>{const n=Oi.cloneNode(!0),e=n.firstChild;return e.$$click=Li,n})()}W(["click"]);const Ai=x('<section id="dashboard"><section id="user-info"><img alt="logo"><div class="user-info-content"><h2>welcome <!>!</h2><p>Email Address: <a></a><br>Lightning Address: <a></a><br>Website: <a></a></p></div></section><nav></nav><section id="balance-section"><h1 id="balance"><span id="sats"></span> sats</h1></section></section>'),$e=()=>V()+"@b1tco1n.org",Ni=()=>"lightning:"+$e(),Ri=()=>"mailto:"+$e(),Nt=()=>V()+".b1tco1n.org",Di=()=>"https://"+Nt(),Pi=()=>X()?X().toLocaleString():0;function Mi(){return G(()=>{let n=on();Re(n.username),an(n.usr),dn(n.wallet_id),hn(n.api_key),pn(n.lnurlp),mn(n.lnurlw),gn(n.tpos),le(n.balance),kt(n.payments)}),(()=>{const n=Ai.cloneNode(!0),e=n.firstChild,t=e.firstChild,i=t.nextSibling,s=i.firstChild,o=s.firstChild,l=o.nextSibling;l.nextSibling;const r=s.nextSibling,d=r.firstChild,c=d.nextSibling,a=c.nextSibling,f=a.nextSibling,u=f.nextSibling,g=u.nextSibling,y=g.nextSibling,_=y.nextSibling,$=e.nextSibling,w=$.nextSibling,C=w.firstChild,b=C.firstChild;return I(t,"src",yt),h(s,V,l),h(c,$e),h(u,$e),h(_,Nt),h($,S(Ti,{}),null),h($,S(_i,{}),null),h($,S(yi,{}),null),h(b,Pi),h(n,S(jn,{}),null),h(n,S(ri,{}),null),h(n,S(Ei,{}),null),k(v=>{const R=Ee()===!0?"active":"",q=re.logo,je=Ri(),Be=Ni(),Ue=Di();return R!==v._v$&&j(n,v._v$=R),q!==v._v$2&&j(t,v._v$2=q),je!==v._v$3&&I(c,"href",v._v$3=je),Be!==v._v$4&&I(u,"href",v._v$4=Be),Ue!==v._v$5&&I(_,"href",v._v$5=Ue),v},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),n})()}const Ii=x('<section id="payments"><h3>payments</h3><ul id="payment-list"></ul></section>'),Fi=x("<div>no payments</div>"),Wi=x('<li><span class="amount"> sats</span><span class="date"></span><span class="memo"></span></li>'),qi=n=>(n/1e3).toLocaleString(),Hi=n=>{let e=n.pending?"pending ":"";return e+=n.amount>0?"receive":"sent",e},ji=n=>new Date(n*1e3).toLocaleString();function Bi(){return(()=>{const n=Ii.cloneNode(!0),e=n.firstChild,t=e.nextSibling;return h(t,S(zt,{get each(){return Ct()},get fallback(){return Fi.cloneNode(!0)},children:(i,s)=>(()=>{const o=Wi.cloneNode(!0),l=o.firstChild,r=l.firstChild,d=l.nextSibling,c=d.nextSibling;return h(l,()=>qi(i.amount),r),h(o,()=>i.pending?"pending ":"",d),h(d,()=>ji(i.time)),h(c,()=>i.memo),k(a=>{const f=Hi(i),u=s();return f!==a._v$&&j(o,a._v$=f),u!==a._v$2&&I(o,"key",a._v$2=u),a},{_v$:void 0,_v$2:void 0}),o})()})),n})()}const Ui=x('<img alt="logo">'),Vi=x('<div class="ring">Loading<span></span></div>'),Qi=x('<div><section id="main"></section><footer><button>rainbow</button><button>hole</button>- made with \u2764\uFE0F by <a target="_blank" href="https://www.twitter.com/dnilabs">dni</a><p>b1tco1n.org, wallet based on <a target="_blank" href="https://lnbits.com/">lnbits</a>, version: 0.0.1</p></footer></div>'),ie=new li,Xi=()=>document.body.classList.toggle("rainbow"),Yi=()=>document.body.classList.toggle("hole"),zi=()=>("serviceWorker"in navigator&&navigator.serviceWorker.register("./service-worker.js",{scope:"./"}).then(n=>{console.log("Registration succeeded. Scope is "+n.scope)}),m.hasCamera().then(_n),(()=>{const n=Qi.cloneNode(!0),e=n.firstChild,t=e.nextSibling,i=t.firstChild,s=i.nextSibling;return h(e,S(N,{get when(){return Ee()},get children(){return[S(Mi,{}),S(Bi,{})]}}),null),h(e,S(N,{get when(){return!Ee()},get children(){return[(()=>{const o=Ui.cloneNode(!0);return I(o,"src",yt),k(()=>j(o,re.logo)),o})(),S(N,{get when(){return J(()=>!Ke())()&&!Ge()},get children(){return Vi.cloneNode(!0)}}),S(N,{get when(){return Ke()},get children(){return S(ui,{})}}),S(N,{get when(){return Ge()},get children(){return S(pi,{})}})]}}),null),i.$$click=Xi,s.$$click=Yi,k(o=>{const l=re.App,r=re.header;return l!==o._v$&&j(n,o._v$=l),r!==o._v$2&&j(e,o._v$2=r),o},{_v$:void 0,_v$2:void 0}),n})());W(["click"]);var Oe=document.querySelector("canvas"),T=Oe.getContext("2d"),Rt=0,Ce=.005,He=.01,Y,se,z,K,we=400,Le=4,Ki=we/Le,ut=we*.25,ht=7;const Gi=function(){ft(),Dt(),window.addEventListener("resize",ft),window.addEventListener("mousedown",es),document.addEventListener("touchstart",ts)};function ft(){Y=Oe.width=window.innerWidth,se=Oe.height=window.innerHeight}function Dt(){Rt+=Ce,Ce+=(He-Ce)*.01,Ji(),Zi(),requestAnimationFrame(Dt)}function Ji(){T.clearRect(0,0,Y,se)}function Zi(){var n,e,t=Y/2,i=se/2;T.globalCompositeOperation="lighter",T.strokeStyle="#000",T.lineWidth=2,T.beginPath();for(var s=Ki;s>0;s--){var o=s*Le+Rt%Le,l=Math.sin(o/ht)*Math.PI,r=Math.cos(o/ht)*Math.PI;n=l*o,e=r*o*.35;var d=1-Math.min(o,ut)/ut;e-=Math.pow(d,2)*200,e+=200*o/we,e+=n/t*Y*.1,T.globalAlpha=1-o/we,T.lineTo(t+n,i+e),T.stroke(),T.beginPath(),T.moveTo(t+n,i+e)}T.lineTo(t,i-200),T.lineTo(t,0),T.stroke()}function es(n){z=n.clientX,K=n.clientY,document.addEventListener("mousemove",Pt),document.addEventListener("mouseup",Mt)}function Pt(n){var e=(n.clientX-z)/1e3,t=(n.clientY-K)/1e3;n.clientY<se/2&&(e*=-1),n.clientX>Y/2&&(t*=-1),He=e+t,z=n.clientX,K=n.clientY}function Mt(n){document.removeEventListener("mousemove",Pt),document.removeEventListener("mouseup",Mt)}function ts(n){n.preventDefault(),z=n.touches[0].clientX,K=n.touches[0].clientY,document.addEventListener("touchmove",It),document.addEventListener("touchend",Ft)}function It(n){var e=(n.touches[0].clientX-z)/1e3,t=(n.touches[0].clientY-K)/1e3;n.touches[0].clientY<se/2&&(e*=-1),n.touches[0].clientX>Y/2&&(t*=-1),He=e+t,z=n.touches[0].clientX,K=n.touches[0].clientY}function Ft(n){document.removeEventListener("touchmove",It),document.removeEventListener("touchend",Ft)}Gi();Gt(()=>S(zi,{}),document.getElementById("root"));
